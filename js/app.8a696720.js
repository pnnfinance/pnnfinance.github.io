(function(e){function t(t){for(var n,s,i=t[0],u=t[1],c=t[2],p=0,d=[];p<i.length;p++)s=i[p],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&d.push(a[s][0]),a[s]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);l&&l(t);while(d.length)d.shift()();return o.push.apply(o,c||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,i=1;i<r.length;i++){var u=r[i];0!==a[u]&&(n=!1)}n&&(o.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},a={app:0},o=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var l=u;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"21bb":function(e,t,r){"use strict";var n=r("2dad"),a=r.n(n);a.a},"2dad":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},o=[],s=(r("5c0b"),r("2877")),i={},u=Object(s["a"])(i,a,o,!1,null,null,null),c=u.exports,l=r("8c4f"),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home",attrs:{id:"home"}},[e._m(0),r("div",{staticClass:"content"},[e._m(1),r("div",{staticClass:"rules"},[r("h2",[e._v("清退登记")]),r("div",{staticClass:"content"},[r("p",[e._v(" 清退登记时间为2020年10月10日18点-2020年20月25日18点，在这期间未登记的用户无法清退。登记时请按照当时质押的交易对和数量如实填写，若信息有误概不清退。 ")]),r("div",{staticClass:"regisration"},[r("div",{staticClass:"input"},[r("span",[e._v("质押地址: ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.address,expression:"address"}],staticClass:"w3-input",attrs:{type:"text",placeholder:"请输入质押时的地址"},domProps:{value:e.address},on:{input:function(t){t.target.composing||(e.address=t.target.value)}}})]),r("div",{staticClass:"input"},[r("span",[e._v("质押交易对: ")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.lpPair,expression:"lpPair"}],staticClass:"w3-input",attrs:{name:"lpPair",id:"lpPair"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.lpPair=t.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"USDT/TRX"}},[e._v("USDT/TRX")]),r("option",{attrs:{value:"SUN/TRX"}},[e._v("SUN/TRX")]),r("option",{attrs:{value:"USDJ/TRX"}},[e._v("USDJ/TRX")]),r("option",{attrs:{value:"JST/TRX"}},[e._v("JST/TRX")]),r("option",{attrs:{value:"JFI/TRX"}},[e._v("JFI/TRX")])])]),r("div",{staticClass:"input"},[r("span",[e._v("质押数量：")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.amount,expression:"amount"}],staticClass:"w3-input",attrs:{type:"text",placeholder:"0"},domProps:{value:e.amount},on:{input:function(t){t.target.composing||(e.amount=t.target.value)}}})]),e.errorInfo?r("div",{staticClass:"error"},[r("span",[e._v(e._s(e.errorInfo))])]):e._e(),r("VueLoadingButton",{staticClass:"w3-btn w3-green btn",attrs:{loading:e.loadingResult},nativeOn:{click:function(t){return e.register()}}},[e._v(" 登记 ")])],1)])])])])},d=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("header",[r("div",{staticClass:"content"},[r("div",{staticClass:"logo"},[r("a",{attrs:{href:"#"}},[r("img",{attrs:{src:"/static/penguin.svg"}})])]),r("div",{staticClass:"nav"},[r("a",{attrs:{href:"#home"}},[e._v("首页")]),r("a",{attrs:{href:"#registration"}},[e._v("清退登记")])])])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"announce"},[r("h2",[e._v("企鹅公告")]),r("p",[e._v(" 由于企鹅项目上线时受到未知黑客攻击，导致开盘30分钟还不能正常质押，官方紧急修复，但资金已被盗走，为保证广大用户的权益，团队成员经过10多天不懈的努力，已经恢复部分数据，但更多数据还在找回当中。丢失的部分资金将由项目方承担，同时，我们将于数据找回后启动清退工作，对于恶意攻击机构或者个人，我们将追究其法律责任。同时，我们由衷的对参与用户和广大鹅友致以最真诚的歉意，后续项目将对参与用户地址进行一些空投代币作为补偿，具体清退规则将于清退时发布。 ")])])}],f=(r("caad"),r("d3b7"),r("2532"),r("96cf"),r("1da1")),v=r("0a4b"),m={name:"Home",components:{VueLoadingButton:v["a"]},data:function(){return{address:"",lpPair:"",amount:"",registerPoolAddress:"TBmYwMLqrjWFJqzKPRWUKYxUx3K93bismx",registerPoolContract:null,errorInfo:"",loadingResult:!1}},methods:{ensureTronWebLoaded:function(){return Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(window.tronWeb&&window.tronWeb.defaultAddress.base58){e.next=5;break}return e.next=3,new Promise((function(e){return setTimeout(e,100)}));case 3:e.next=0;break;case 5:case"end":return e.stop()}}),e)})))()},getTronWeb:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.ensureTronWebLoaded();case 2:return t.abrupt("return",window.tronWeb);case 3:case"end":return t.stop()}}),t)})))()},getPoolContract:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getTronWeb();case 2:if(r=t.sent,e.registerPoolContract){t.next=7;break}return t.next=6,r.contract().at(e.registerPoolAddress);case 6:e.registerPoolContract=t.sent;case 7:return t.abrupt("return",e.registerPoolContract);case 8:case"end":return t.stop()}}),t)})))()},parseErrorMessage:function(e){return console.log(e),e.includes("not start")?"尚未开始清退登记":e.includes("already finished")?"清退登记已结束":e},parseTransactionResult:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function r(){var n,a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.getTronWeb();case 2:n=r.sent,a={};case 4:if("ret"in a){r.next=23;break}return r.next=7,new Promise((function(e){return setTimeout(e,1e3)}));case 7:return r.prev=7,r.next=10,n.trx.getTransaction(e);case 10:a=r.sent,r.next=21;break;case 13:if(r.prev=13,r.t0=r["catch"](7),"Transaction not found"!==r.t0){r.next=19;break}return r.abrupt("continue",4);case 19:return t.errorInfo=r.t0,r.abrupt("return",!1);case 21:r.next=4;break;case 23:if("REVERT"==a.ret[0].contractRet){r.next=25;break}return r.abrupt("return",!0);case 25:return t.errorInfo="清退登记失败，正在获取错误信息",r.next=28,n.trx.getTransactionInfo(e);case 28:a=r.sent;case 29:if("blockNumber"in a){r.next=37;break}return r.next=32,new Promise((function(e){return setTimeout(e,1e3)}));case 32:return r.next=34,n.trx.getTransactionInfo(e);case 34:a=r.sent,r.next=29;break;case 37:if("FAILED"!==a.result){r.next=41;break}return o=a.contractResult[0],t.errorInfo=t.parseErrorMessage(n.toUtf8(o)),r.abrupt("return",!1);case 41:return r.abrupt("return",!0);case 42:case"end":return r.stop()}}),r,null,[[7,13]])})))()},register:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var r,n,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadingResult=!0,t.next=3,e.getTronWeb();case 3:return r=t.sent,t.next=6,e.getPoolContract();case 6:return n=t.sent,t.next=9,n.register(e.address,e.lpPair,1e6*r.toDecimal(e.amount)).send();case 9:return a=t.sent,console.log(a),t.next=13,e.parseTransactionResult(a);case 13:o=t.sent,e.loadingResult=!1,o&&(e.errorInfo="登记成功");case 16:case"end":return t.stop()}}),t)})))()}}},b=m,g=(r("21bb"),Object(s["a"])(b,p,d,!1,null,null,null)),h=g.exports;n["a"].use(l["a"]);var x=[{path:"/",name:"Home",component:h}],w=new l["a"]({mode:"history",base:"/",routes:x}),_=w,T=r("2f62");n["a"].use(T["a"]);var R=new T["a"].Store({state:{},mutations:{},actions:{},modules:{}});n["a"].config.productionTip=!1,n["a"].use(v["a"]),new n["a"]({router:_,store:R,render:function(e){return e(c)}}).$mount("#app")},"5c0b":function(e,t,r){"use strict";var n=r("9c0c"),a=r.n(n);a.a},"9c0c":function(e,t,r){}});
//# sourceMappingURL=app.8a696720.js.map